\hypertarget{main_8cpp_source}{}\doxysection{main.\+cpp}
\label{main_8cpp_source}\index{/home/andremutoke/Documents/PlatformIO/Projects/ESP32\_Project\_Robot\_Manage/src/main.cpp@{/home/andremutoke/Documents/PlatformIO/Projects/ESP32\_Project\_Robot\_Manage/src/main.cpp}}
\mbox{\hyperlink{main_8cpp}{Aller à la documentation de ce fichier.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00001}00001 \textcolor{comment}{/*******************************************************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00002}00002 \textcolor{comment}{ *******************************************************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00003}00003 \textcolor{comment}{ ** @author : André MUTOKE MUSULE \& Japhet TSHIMANGA BWENDE       **}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00004}00004 \textcolor{comment}{ ** @date : Mardi 29 Mai 2024                                     **}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00005}00005 \textcolor{comment}{ ** @name : main.cpp                                              **}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00006}00006 \textcolor{comment}{ ** @details : Ce fichier implémente le déroulement du système    **}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00007}00007 \textcolor{comment}{ * *****************************************************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00008}00008 \textcolor{comment}{ * *****************************************************************}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00009}00009 \textcolor{comment}{*/}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00010}00010 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00011}00011 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00012}00012 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00013}00013 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00015}00015 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00016}00016 \textcolor{preprocessor}{\#include <Arduino.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00017}00017 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00018}00018 \textcolor{preprocessor}{\#include <DabbleESP32.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00019}00019 \textcolor{preprocessor}{\#include <ESP32Servo.h>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00020}00020 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00021}00021 \textcolor{preprocessor}{\#include <\mbox{\hyperlink{_robot_g7_8h}{RobotG7.h}}>}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00022}00022 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00023}\mbox{\hyperlink{main_8cpp_a5cf885ab33e020a11eb58d9e7142436b}{00023}} \textcolor{preprocessor}{\#define INTERVAL\_TIME 1000}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00024}00024 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00025}00025 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00026}00026 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00034}\mbox{\hyperlink{main_8cpp_af94f6571078c233db3d473d1ad4cd83e}{00034}} \mbox{\hyperlink{struct_motor}{MOTOR}} \mbox{\hyperlink{main_8cpp_af94f6571078c233db3d473d1ad4cd83e}{roue1}} = \{27, 26, 14, \mbox{\hyperlink{_motor_control_8h_a4b3b0d03377f0a353e580a2f319c28f0}{PWMCHANNEL}}\};  \textcolor{comment}{// Premiere Roue ( cPin1, cPin2, enable)}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00035}\mbox{\hyperlink{main_8cpp_af94cbc7ef6ac7ee51cd4bacc1a40ccbc}{00035}} \mbox{\hyperlink{struct_motor}{MOTOR}} \mbox{\hyperlink{main_8cpp_af94cbc7ef6ac7ee51cd4bacc1a40ccbc}{roue2}} = \{25, 33, 32, \mbox{\hyperlink{_motor_control_8h_aec23e48fe03e56b314a466f3125c6b69}{PWMCHANNEL2}}\}; \textcolor{comment}{//  Seconde Roue}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00036}00036 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00037}00037 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00039}\mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{00039}} \mbox{\hyperlink{class_robot_g7}{RobotG7}} *\mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}} = \textcolor{keyword}{new} \mbox{\hyperlink{class_robot_g7}{RobotG7}}(\&\mbox{\hyperlink{main_8cpp_af94f6571078c233db3d473d1ad4cd83e}{roue1}}, \&\mbox{\hyperlink{main_8cpp_af94cbc7ef6ac7ee51cd4bacc1a40ccbc}{roue2}}); \textcolor{comment}{// Notre Robot}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00040}00040 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00041}\mbox{\hyperlink{main_8cpp_a08bde7700e3ec732cafaccae5ec48dd2}{00041}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8cpp_a08bde7700e3ec732cafaccae5ec48dd2}{PIN\_MODE\_CTRL}} = 5;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00042}\mbox{\hyperlink{_robot_g7_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{00042}} \textcolor{keywordtype}{int} \mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00043}00043 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00045}\mbox{\hyperlink{_ctrl_way_8cpp_a88429b50f34953348f4a5c231a7c325f}{00045}} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} \mbox{\hyperlink{main_8cpp_a88429b50f34953348f4a5c231a7c325f}{previouMillis}};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00046}00046 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00048}\mbox{\hyperlink{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{00048}} \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8cpp_a4fc01d736fe50cf5b977f755b675f11d}{setup}}()}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00049}00049 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00050}00050     \mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}} = 1;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00051}00051     \mbox{\hyperlink{main_8cpp_a88429b50f34953348f4a5c231a7c325f}{previouMillis}} = 0;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00052}00052     Serial.begin(115200);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00053}00053     \mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_ad672da1e73e00594c75b0e10cf7f6d8a}{begin}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00054}00054 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00055}00055     pinMode(\mbox{\hyperlink{main_8cpp_a08bde7700e3ec732cafaccae5ec48dd2}{PIN\_MODE\_CTRL}}, INPUT\_PULLUP);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00056}00056     }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00057}00057 \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00058}00058 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00060}\mbox{\hyperlink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{00060}} \textcolor{keywordtype}{void} \mbox{\hyperlink{main_8cpp_afe461d27b9c48d5921c00d521181f12f}{loop}}()}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00061}00061 \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00062}00062     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{long} currentMillis = millis();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00063}00063     \textcolor{comment}{// Serial.print("{}On veut lire le bp :  "{});}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00064}00064     \textcolor{keywordtype}{int} temp = digitalRead(\mbox{\hyperlink{main_8cpp_a08bde7700e3ec732cafaccae5ec48dd2}{PIN\_MODE\_CTRL}}); delay(100);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00065}00065     \textcolor{comment}{// Serial.println(temp);}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00066}00066 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00067}00067 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00068}00068     \textcolor{keywordflow}{if}(temp == 0)}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00069}00069     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00070}00070         delay(1000);}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00071}00071 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00072}00072         \mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}}++;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00073}00073         \textcolor{keywordflow}{if}(\mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}} > 3) \{\mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}} = 1;\}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00074}00074 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00075}00075     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00076}00076 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00077}00077     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{main_8cpp_a4c57d3e34c8fe5bc12be40622b490b1d}{tempctrl}})}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00078}00078     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00079}00079     \textcolor{keywordflow}{case} 1:}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00080}00080         \mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_aa05a90608b3d705d34d8cfe4f00b6046}{setNavigation}}(\mbox{\hyperlink{_robot_g7_8h_af7e27612dcf48f1519de25b6c4293313a2ab2ea921d7cab148e47b16bdfda7d98}{MODE\_START}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00081}00081         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00082}00082     \textcolor{keywordflow}{case} 2:}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00083}00083         \mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_aa05a90608b3d705d34d8cfe4f00b6046}{setNavigation}}(\mbox{\hyperlink{_robot_g7_8h_af7e27612dcf48f1519de25b6c4293313a290a299a6b0a27ec97bfbc9b82edd252}{MODE\_MANUEL}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00084}00084         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00085}00085     \textcolor{keywordflow}{case} 3:}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00086}00086         \mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_aa05a90608b3d705d34d8cfe4f00b6046}{setNavigation}}(\mbox{\hyperlink{_robot_g7_8h_af7e27612dcf48f1519de25b6c4293313affb2438b47d21191bd1ba7bcbdf40fa5}{MODE\_AUTOMATIQUE}});}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00087}00087         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00088}00088     }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00089}00089     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00090}00090         \textcolor{keywordflow}{break};}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00091}00091     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00092}00092 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00093}00093     \textcolor{keywordflow}{if}(currentMillis -\/ \mbox{\hyperlink{main_8cpp_a88429b50f34953348f4a5c231a7c325f}{previouMillis}} >= \mbox{\hyperlink{main_8cpp_a5cf885ab33e020a11eb58d9e7142436b}{INTERVAL\_TIME}})}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00094}00094     \{}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00095}00095         Serial.println(\mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_a05a0acccbe1705e6bc6b89564111419f}{getDistanceObstacle}}());}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00096}00096         \mbox{\hyperlink{main_8cpp_a1fd977fa0687f28a2a7a1a160ae63390}{myrobot}}-\/>\mbox{\hyperlink{class_robot_g7_a0522c9cc557849deaaff09a93f9396ba}{navigation}}();}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00097}00097 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00098}00098         \mbox{\hyperlink{main_8cpp_a88429b50f34953348f4a5c231a7c325f}{previouMillis}} = currentMillis;}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00099}00099 }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00100}00100     \}}
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00101}00101   }
\DoxyCodeLine{\Hypertarget{main_8cpp_source_l00102}00102 \}}

\end{DoxyCode}
